<div>
  <div class="form-group">
    <label for="subject">Subject</label>
    <select id="subject" class="form-control" (change)="filterSubject($event.target.value)">
      <option value="0">--</option>
      <option *ngFor="let subject of subjects" value={{subject.id}}>
        {{subject.name}}
      </option>
    </select>
  </div>
  <div class="form-group">
    <label for="faculty">Faculty</label>
    <select id="faculty" class="form-control" (change)="filterFaculty($event.target.value)">
      <option value="0">--</option>
      <option *ngFor="let faculty of faculties" value={{faculty.id}}>
        {{faculty.name}}
      </option>
    </select>
  </div>
  <div class="form-group">
    <label for="group">Group</label>
    <select id="group" class="form-control" (change)="filterGroup($event.target.value)">
      <option value="0">--</option>
      <option *ngFor="let group of groups" value={{group.id}}>
        {{group.name}}
      </option>
    </select>
  </div>
</div>

<div *ngIf="!!students; then thenBlock else elseBlock"></div>

  <ng-template #thenBlock>
    <div>
      <h2>Students</h2>
      <ngx-datatable #studenrinfo class="material"
                     style="top: 52px"
                     [columnMode]="'force'"
                     [headerHeight]="50"
                     [footerHeight]="0"
                     [rowHeight]="50"
                     [rows]="students">
        <ngx-datatable-column name="Name">
          <ng-template let-value="value" ngx-datatable-cell-template let-row="row">
            <strong>{{row.student.name}}</strong>
          </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column name="StudentCard">
          <ng-template let-value="value" ngx-datatable-cell-template let-row="row">
            {{row.student.studentCard}}
          </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column *ngFor="let term of terms; let j = index" name={{term}}>
          <ng-template let-value="value" ngx-datatable-cell-template let-row="row">
            <div *ngIf="!!row.marks[j] ; then thenBlock else elseBlock"></div>
            <ng-template #thenBlock>
              <div>{{row.marks[j].grade}}</div>
            </ng-template>
            <ng-template #elseBlock>
              <div>-</div>
            </ng-template>

          </ng-template>
        </ngx-datatable-column>
      </ngx-datatable>
    </div>
  </ng-template>

  <ng-template #elseBlock>
    <h2>Choose group</h2>
  </ng-template>
